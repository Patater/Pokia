<!DOCTYPE html>
<html>
<head>
<title>Pokia</title>
<meta charset="UTF-8">
</head>
<body>

<img id="phone" style="position: absolute;"
src="Nokia_1100.jpg" width="2" height="2">
<canvas id="waveform" width="400" height="100"></canvas>
<pre id="debug"></pre>


<script>
Note = function() {
  this.frequency = Song.NOTE_C4;

  this.duration = Song.QUARTER_NOTE;

  // Time until the next note can play.
  this.spacing = 0.01;

  // If this is true, then frequency will be ignored and we'll "rest" instead
  // of playing for the specified duration.
  this.pause = false;
}

Song = function() {
  // http://merwin.bespin.org/t4a/specs/nokia_rtttl.txt
  this.defaultOctave = 6;
  this.defaultDuration = 4;
  this.defaultTempo = 63;

  this.song = [];
}

Song.prototype.parseComposer = function(name, tempo, composer) {
  var spaceTokens = composer.split(" ");
  this.name = name;
  this.defaultTempo = tempo;

  for (var i = 0; i < spaceTokens.length; i++) {
    this.parseComposerNote(spaceTokens[i]);
  }
}

// 4- 4.c2 4.#c2 ("4.-" doesn't seem possible to enter)
// optional: . #
Song.prototype.parseComposerNote = function(note) {
  var noteToAdd = new Note();
  var regexNum = /\d/;
  var regexNote = /[cdefgab#]/;
  var i = 0;
  var start = 0;

  // Until we reach a non-digit
  while (regexNum.test(note.charAt(i))) {
    i++;
  }
  // i may point to the first non-digit or the beginning of the string
  var duration = note.substring(start, i);
  start = i;
  if (duration != "") {
    noteToAdd.duration = parseInt(duration, 10);
  } else {
    // Don't add an invalid note.
    return;
  }

  // Is current character a '.'?
  if (note.charAt(i) == ".") {
    noteToAdd.duration *= Song.DOT;
    i++;
    start = i;
  }

  // Is current character a '-'?
  if (note.charAt(i) == "-") {
    noteToAdd.pause = true;
    this.song.push(noteToAdd);
    return;
  }

  // Until we reach a non-note
  while (regexNote.test(note.charAt(i))) {
    i++;
  }
  // i may point to the first non-digit or the end of the string
  var whichNote = note.substring(start, i);
  start = i;

  // Until we reach a non-number
  while (regexNum.test(note.charAt(i))) {
    i++;
  }
  var octave = note.substring(start, i);
  noteToAdd.octave = parseInt(octave, 10) + 4;

  if (whichNote == "c") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_C5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_C6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_C7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "#c") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_CS5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_CS6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_CS7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "d") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_D5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_D6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_D7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "#d") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_DS5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_DS6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_DS7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "e") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_E5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_E6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_E7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "f") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_F5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_F6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_F7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "#f") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_FS5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_FS6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_FS7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "g") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_G5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_G6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_G7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "#g") {
    if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_GS5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_GS6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_GS7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "a") {
    if (noteToAdd.octave == 4) {
      noteToAdd.frequency = Song.NOTE_A4;
    } else if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_A5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_A6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_A7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "#a") {
    if (noteToAdd.octave == 4) {
      noteToAdd.frequency = Song.NOTE_AS4;
    } else if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_AS5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_AS6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_AS7;
    } else {
      noteToAdd.pause = true;
    }
  } else if (whichNote == "b") {
    if (noteToAdd.octave == 4) {
      noteToAdd.frequency = Song.NOTE_B4;
    } else if (noteToAdd.octave == 5) {
      noteToAdd.frequency = Song.NOTE_B5;
    } else if (noteToAdd.octave == 6) {
      noteToAdd.frequency = Song.NOTE_B6;
    } else if (noteToAdd.octave == 7) {
      noteToAdd.frequency = Song.NOTE_B7;
    } else {
      noteToAdd.pause = true;
    }
  }

  this.song.push(noteToAdd);
}

Song.prototype.parseRTTTL = function(rtttl) {
  var colonTokens = rtttl.split(":");
  this.name = colonTokens[0];
  this.parseDefaults(colonTokens[1]);
  this.parseSong(colonTokens[2]);
}

Song.prototype.parseDefaults = function(defaults) {
  var commaTokens = defaults.split(",");
  for (var i = 0; i < commaTokens.length; i++) {
    if (commaTokens[i][0] == "o") {
      this.defaultOctave = parseInt(commaTokens[i].substring(2), 10);
    } else if (commaTokens[i][0] == "d") {
      this.defaultDuration = parseInt(commaTokens[i].substring(2), 10);
    } else if (commaTokens[i][0] == "b") {
      this.defaultTempo = parseInt(commaTokens[i].substring(2), 10);
    }
  }
}

Song.prototype.parseSong = function(song) {
  var commaTokens = song.split(",");
  for (var i = 0; i < commaTokens.length; i++) {
    this.parseNote(commaTokens[i]);
  }
}

Song.prototype.parseNote = function(note) {
  var noteToAdd = new Note();
  var regexNum = /\d/;
  var regexNote = /[PCDEFGAB#]/;
  var regexDot = /./;
  var i = 0;
  var start = 0;
  // Until we reach a non-digit
  while (regexNum.test(note.charAt(i))) {
    i++;
  }
  // i may point to the first non-digit or the beginning of the string
  var duration = note.substring(start, i);
  start = i;
  if (duration != "") {
    noteToAdd.duration = parseInt(duration, 10);
  } else {
    noteToAdd.duration = this.defaultDuration;
  }
  //
  // Until we reach a non-note
  while (regexNote.test(note.charAt(i))) {
    i++;
  }
  // i needs to point to the end of a note
  var whichNote = note.substring(start, i);
  start = i;
  // Until we reach a non-dot
  while (regexDot.test(note.charAt(i))) {
    i++;
  }
  // i must point to the end of the note text
  var octave = note.substring(start, i);
  if (!regexNum.test(octave)) {
    octave = this.defaultOctave;
  }
  if (whichNote == "P")
  {
    noteToAdd.pause = true;
  } else if (whichNote == "C") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_C5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_C6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_C7;
    }
  } else if (whichNote == "C#") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_CS5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_CS6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_CS7;
    }
  } else if (whichNote == "D") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_D5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_D6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_D7;
    }
  } else if (whichNote == "D#") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_DS5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_DS6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_DS7;
    }
  } else if (whichNote == "E") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_E5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_E6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_E7;
    }
  } else if (whichNote == "F") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_F5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_F6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_F7;
    }
  } else if (whichNote == "F#") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_FS5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_FS6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_FS7;
    }
  } else if (whichNote == "G") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_G5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_G6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_G7;
    }
  } else if (whichNote == "G#") {
    if (octave == "4") {
      noteToAdd.pause = true; // A4 is the lowest note.
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_GS5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_GS6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_GS7;
    }
  } else if (whichNote == "A") {
    if (octave == "4") {
      noteToAdd.frequency = Song.NOTE_A4;
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_A5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_A6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_A7;
    }
  } else if (whichNote == "A#") {
    if (octave == "4") {
      noteToAdd.frequency = Song.NOTE_AS4;
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_AS5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_AS6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_AS7;
    }
  } else if (whichNote == "B") {
    if (octave == "4") {
      noteToAdd.frequency = Song.NOTE_B4;
    } else if (octave == "5") {
      noteToAdd.frequency = Song.NOTE_B5;
    } else if (octave == "6") {
      noteToAdd.frequency = Song.NOTE_B6;
    } else if (octave == "7") {
      noteToAdd.frequency = Song.NOTE_B7;
    }
  }

  if (note.charAt(i) == ".") {
    noteToAdd.duration *= Song.DOT;
  }

  this.song.push(noteToAdd);
}

Song.prototype.play = function(when) {
  var beatLength = 4.0 * 60.0 / this.defaultTempo;
  var then = when;
  for (var i = 0; i < this.song.length; i++) {
    var note = this.song[i];
    var duration = beatLength / note.duration;
    if (!note.pause) {
      beep(then, note.frequency, duration);
    }
    then += duration + note.spacing;
  }
}

Song.prototype.pause = function() {
}

// http://www.phy.mtu.edu/~suits/notefreqs.html
Song.NOTE_A3 = 220;
Song.NOTE_AS3 = 233.08;
Song.NOTE_B3 = 246.94;
Song.NOTE_C4 = 261.63;
Song.NOTE_CS4 = 277.18;
Song.NOTE_D4 = 293.66;
Song.NOTE_DS4 = 311.13;
Song.NOTE_E4 = 329.63;
Song.NOTE_F4 = 349.23;
Song.NOTE_FS4 = 369.99;
Song.NOTE_G4 = 392.00;
Song.NOTE_GS4 = 415.30;
Song.NOTE_A4 = 440.00;
Song.NOTE_AS4 = 466.16;
Song.NOTE_B4 = 493.88;
Song.NOTE_C5 = 523.25; // This is "c1" in Nokia Composer.
Song.NOTE_CS5 = 554.37;
Song.NOTE_D5 = 587.33;
Song.NOTE_DS5 = 622.25;
Song.NOTE_E5 = 659.26;
Song.NOTE_F5 = 698.46;
Song.NOTE_FS5 = 739.99;
Song.NOTE_G5 = 783.99;
Song.NOTE_GS5 = 830.61;
Song.NOTE_A5 = 880.00;
Song.NOTE_AS5 = 932.33;
Song.NOTE_B5 = 987.77;
Song.NOTE_C6 = 1046.50;
Song.NOTE_CS6 = 1108.73;
Song.NOTE_D6 = 1174.66;
Song.NOTE_DS6 = 1244.51;
Song.NOTE_E6 = 1318.51;
Song.NOTE_F6 = 1396.91;
Song.NOTE_FS6 = 1479.98;
Song.NOTE_G6 = 1567.98;
Song.NOTE_GS6 = 1661.22;
Song.NOTE_A6 = 1760.00;
Song.NOTE_AS6 = 1864.66;
Song.NOTE_B6 = 1975.53;
Song.NOTE_C7 = 2093.00;
Song.NOTE_CS7 = 2217.46;
Song.NOTE_D7 = 2349.32;
Song.NOTE_DS7 = 2489.02;
Song.NOTE_E7 = 2637.02;
Song.NOTE_F7 = 2793.83;
Song.NOTE_FS7 = 2959.96;
Song.NOTE_G7 = 3135.96;
Song.NOTE_GS7 = 3322.44;
Song.NOTE_A7 = 3520.00;
Song.NOTE_AS7 = 3729.31;
Song.NOTE_B7 = 3951.07;

Song.WHOLE_NOTE = 1;
Song.HALF_NOTE = 2;
Song.QUARTER_NOTE = 4;
Song.EIGHTH_NOTE = 8;
Song.SIXTEENTH_NOTE = 16;
Song.THIRTY_SECOND_NOTE = 32;
Song.DOT = 1.5;

var context;
var nokiawave;
var globalGain;
var songGain;
var debugMode = false;

var wavetable;
var frequencyData;
// Modified from
// https://chromium.googlecode.com/svn/trunk/samples/audio/oscillator.html
function loadWaveTable(wavetableArray, oscillator) {
  // Copy into more efficient Float32Arrays.
  var n = wavetableArray.real.length;
  frequencyData = {
    "real": new Float32Array(n),
    "imag": new Float32Array(n)
  };

  for (var i = 0; i < n; ++i) {
    frequencyData.real[i] = wavetableArray.real[i];
    frequencyData.imag[i] = wavetableArray.imag[i];
  }

  wavetable = context.createWaveTable(frequencyData.real, frequencyData.imag);
  oscillator.setWaveTable(wavetable);
}

// Modified from http://www.javascripter.net/faq/plotafunctiongraph.htm
// TODO: Plot x from 0 to 2 * Math.PI and y from -2 to 2
function plotWaveform(wavetableArray) {
  var canvas = document.getElementById("waveform");
  var axes = {};
  var context = canvas.getContext("2d");
  //axes.x0 = 0.5 + 0.5 * canvas.width;
  axes.x0 = 0;
  axes.y0 = 0 + 0.5 * canvas.height;
  axes.scale = 40;
  axes.doNegativeX = false;

  showAxes(context, axes);
  funGraph(context, axes,
    function(x) { return wavetableAtTime(wavetableArray, x); },
    "rgb(13, 13, 13)", 2
  );
}

function funGraph (context, axes, func, color, thick) {
  var xx;
  var yy;
  var dx = 1;
  var x0 = axes.x0;
  var y0 = axes.y0;
  var scale = axes.scale;
  var iMin = 0;
  var iMax = Math.round((context.canvas.width - x0) / dx);
  context.beginPath();
  context.lineWidth = thick;
  context.strokeStyle = color;

  for (var i = iMin; i <= iMax; i++) {
    xx = dx * i;
    yy = scale * func(xx / scale);
    if (i == iMin) {
      context.moveTo(x0 + xx, y0 - yy);
    } else {
      context.lineTo(x0 + xx, y0 - yy);
    }
  }
  context.stroke();
}

function showAxes(context, axes) {
 var x0 = axes.x0;
 var w = context.canvas.width;
 var y0 = axes.y0;
 var h = context.canvas.height;
 var xmin = axes.doNegativeX ? 0 : x0;

 context.beginPath();
 context.strokeStyle = "rgb(128,128,128)";
 context.moveTo(xmin,y0);

 context.lineTo(w,y0);  // X axis
 context.moveTo(x0,0);

 context.lineTo(x0,h);  // Y axis
 context.stroke();
}

window.addEventListener('load', init, false);
window.addEventListener('resize', resizePhone, false);
function init() {

  resizePhone();

  try {
    context = new webkitAudioContext();
  } catch(e) {
    alert(
      "Web Audio API is not supported in this browser.\n\nWhy aren't you" +
      "using Google Chrome yet?"
    );
    return;
  }
  nokiawave = context.createOscillator();
  //var generatedSeries = generateSquareSeries(4096);
  //var generatedSeries = generateNokiaSeries(4096);
  var generatedSeries = nokiaSampleFFT32;
  loadWaveTable(generatedSeries, nokiawave);
  globalGain = context.createGainNode();
  globalGain.gain.value = 1.0;

  songGain = context.createGainNode();
  songGain.gain.value = 0;

  nokiawave.connect(songGain);
  songGain.connect(globalGain);
  globalGain.connect(context.destination);

  var now = 0;
  now = context.currentTime;
  nokiawave.noteOn(now);

  song = new Song();
  //song.parseRTTTL(rtttlNokiaTune);
  song.parseComposer("Nyan Cat", 140, nokiaComposerNyanCat);
  song.play(now);
  if (debugMode) {
    printWavetableSweep(generatedSeries, 0, 2 * Math.PI, 256);
    plotWaveform(generatedSeries);
  }
}

function resizePhone() {
  var actualWidth = 2704;
  var actualHeight = 4064;
  var actualRatio = actualWidth / actualHeight;
  var windowRatio = window.innerWidth / window.innerHeight;
  var phone = document.getElementById('phone');
  if (windowRatio > actualRatio) {
    // Window is wider than actual phone.
    phone.height = window.innerHeight;
    phone.width = phone.height / actualHeight * actualWidth;
  } else {
    // Window is not wider than actual phone.
    phone.width = window.innerWidth;
    phone.height = phone.width / actualWidth * actualHeight;
  }
  phone.style.left = (window.innerWidth / 2 - phone.width / 2) + "px";
  phone.style.top = (window.innerHeight / 2 - phone.height / 2) + "px";
}

function beep(when, freq, duration)
{
  nokiawave.frequency.setValueAtTime(freq, when);

  songGain.gain.setValueAtTime(1, when);
  songGain.gain.setValueAtTime(0, when + duration);
}

function playMetronome(when, tempo, duration)
{
  // Tempo (BPM)
  // 4 beats per whole note, 60 seconds per minute
  var beatLength = 4.0 * 60.0 / tempo;
  var clickDuration = 0.005;
  var clickFrequency = 440;

  var then = when;
  while (then <= when + duration)
  {
    var noteDuration = beatLength / Song.QUARTER_NOTE;
    beep(then, clickFrequency, clickDuration);
    then += noteDuration;
  }
}

function printWavetableSweep(wavetableArray, start, end, steps) {
  var debug = document.getElementById("debug");
  for (var i = start; i < end; i += (end - start) / steps) {
    debug.textContent += wavetableAtTime(wavetableArray, i) + "\n";
  }
}

function generateSquareSeries(samples) {
  var series = {};
  series.real = [];
  series.imag = [];
  for (var n = 0; n < samples; n++) {
    if (n % 2 == 1) {
      series.imag.push(4.0 / Math.PI * (1 / n));
    } else {
      series.imag.push(0);
    }
    series.real.push(0);
  }
  return series;
}

function wavetableAtTime(wavetableArray, t) {
  var value = 0;
  var n = wavetableArray.real.length;
  for (var i = 0; i < n; ++i) {
    value += wavetableArray.real[i] * Math.cos(i * t);
    value += wavetableArray.imag[i] * Math.sin(i * t);
  }
  value += wavetableArray.real[0] / 2;

  return value;
}

// We can just use math if we come up with an equation for generating the
// Fourier series co-efficients for a damped square wave. I'm not sure if this
// response is characteristic of the Nokia sound for all frequencies the
// classic Nokia phone can generate.
var nokiaSampleFFT32 = {
  'real': [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
  ],
  'imag': [
    -37.94,
    -40.96,
    -40.96,
    -49.22,
    -49.22,
    -43.27,
    -38.59,
    -41.41,
    -49.88,
    -52.91,
    -47.16,
    -39.06,
    -42.05,
    -53.96,
    -60.83,
    -56.99,
    -54.95,
    -65.73,
    -70.99,
    -67.25,
    -70.98,
    -72.94,
    -71.99,
    -71.80,
    -76.07,
    -76.28,
    -79.35,
    -78.06,
    -81.61,
    0,
    0,
    0,
  ],
}

// Nokia Composer Nyan Cat
// http://www.youtube.com/watch?v=eMD6hThdFFo
// Tempo 180
var nokiaComposerNyanCat = "8#f3 8#g3 16#c3 8#d3 16#c3 16d3 16#c3 8b2 8b2" +
" 8#c3 8d3 16d3 16#c3 16b2 16#c3 16#d3 16#f3 16#g3 16#d3 16#f3 16#c3 16#d3" +
" 16b2 16#c3 16b2 8#d3 8#f3 16#g3 16#d3 16#f3 16#c3 16#d3 16b2 16#c3 16#d3" +
" 16d3 16#c3 16b2 16#c3 8d3 16b2 16#c3 16#d3 16#f3 16#c3 16d3 16#c3 16b2" +
" 8#c3 8b2";

// Nokia Composer Epic Sax
// http://www.youtube.com/watch?v=hsX3wPawqZI
// Tempo 63
var nokiaComposerEpicSax = "8a1 8- 16a1 32a1 32a1 32g1 16a1 32- 8a1 8- 16a1" +
" 32a1 32a1 32g1 16a1 32- 8a1 16- 8c2 8a1 8g1 16f1 16- 16d1 16d1 16e1 16f1" +
" 16d1";

// Nokia Composer Chromatic Scale
// This is longer than 50 notes, so real Nokia phones can't play it.
var nokiaComposerChromaticScale = "4c1 4- 4#c1 4- 4d1 4- 4#d1 4- 4e1 4- 4f1" +
" 4- 4#f1 4- 4g1 4- 4#g1 4- 4a1 4- 4#a1 4- 4b1 4- 4c2 4- 4#c2 4- 4d2 4-" +
" 4#d2 4- 4e2 4- 4f2 4- 4#f2 4- 4g2 4- 4#g2 4- 4a2 4- 4#a2 4- 4b2 4- 4c3" +
" 4- 4#c3 4- 4d3 4- 4#d3 4- 4e3 4- 4f3 4- 4#f3 4- 4g3 4- 4#g3 4- 4a3 4-" +
" 4#a3 4- 4b3 4-";

// RTTTL Nokia Tune
// https://en.wikipedia.org/wiki/Nokia_tune
var rtttlNokiaTune =
"Nokia:o=5,d=8,b=240:E6,D6,4F#,4G#,C#6,B,4D,4E,B,A,4C#,4E,2A.";

</script>

</body>
</html>
